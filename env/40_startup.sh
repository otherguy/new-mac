
#############################################################################
# Kubectl
#############################################################################

source <(kubectl completion zsh)
alias k=kubectl
complete -F __start_kubectl k


#############################################################################
# Stern
#############################################################################
source <(stern --completion=zsh)


#############################################################################
# GRC
#############################################################################
[[ -s "`brew --prefix`/etc/grc.zsh" ]] && source `brew --prefix`/etc/grc.zsh


#############################################################################
# Starship
#############################################################################
eval "$(starship init zsh)"


#############################################################################
# ZSH Syntax Highlighting
#############################################################################
export ZSH_HIGHLIGHT_HIGHLIGHTERS_DIR=$(brew --prefix)/share/zsh-syntax-highlighting/highlighters
source $(brew --prefix)/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh


#############################################################################
# Z
#############################################################################
source /usr/local/etc/profile.d/z.sh


#############################################################################
# iTerm Shell Integration
#############################################################################
test -e "${HOME}/.iterm2_shell_integration.`basename $SHELL`" && source "${HOME}/.iterm2_shell_integration.`basename $SHELL`"


#############################################################################
# Minikube
#############################################################################

if [ "$(minikube status --output json | jq -r '.Host')" == "Stopped" ]; then
	echo "☸️  Minikube is not running."
else
	eval $(minikube docker-env)
fi
